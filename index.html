<script>
const viewer = document.getElementById("viewer");
const video = document.getElementById("video");

viewer.addEventListener("load", async () => {

  try {

    // Necesario para móviles
    video.muted = true;
    video.play();

    // Crear textura desde el video
    const texture = await viewer.createTexture(video);

    // Buscar el material por nombre (CAMBIA "Pantalla" por el nombre real)
    const material = viewer.model.materials.find(
      (mat) => mat.name === "Pantalla"
    );

    if (!material) {
      console.log("No se encontró el material Pantalla");
      return;
    }

    material.pbrMetallicRoughness.setBaseColorTexture(texture);
    material.pbrMetallicRoughness.setMetallicFactor(0);
    material.pbrMetallicRoughness.setRoughnessFactor(1);

    console.log("Video aplicado correctamente");

  } catch (error) {
    console.error("Error aplicando video:", error);
  }

});
</script>
